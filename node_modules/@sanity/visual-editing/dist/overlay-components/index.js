import{F as t,A as e,I as o,d as n,B as i}from"../_chunks-es/PointerEvents.js";import{P as r}from"../_chunks-es/PointerEvents.js";import{jsx as a,jsxs as s}from"react/jsx-runtime";import{c as l}from"react-compiler-runtime";import{useState as c,useRef as d}from"react";import{a as h,c as p}from"../_chunks-es/mutations.js";const m=n(i)`
  position: relative;
  transform: var(--add-button-position);

  --add-button-position: translateY(0);
  [data-position='top'] & {
    --add-button-position: translateY(-50%);
  }
  [data-position='right'] & {
    --add-button-position: translateX(50%);
  }
  [data-position='bottom'] & {
    --add-button-position: translateY(50%);
  }
  [data-position='left'] & {
    --add-button-position: translateX(-50%);
  }
`,u=n(t)`
  pointer-events: all;
  height: var(--hover-area-height);
  width: var(--hover-area-width);

  --hover-area-height: 100%;
  --hover-area-width: 100%;
  &[data-position='top'],
  &[data-position='bottom'] {
    --hover-area-height: 48px;
  }
  &[data-position='right'],
  &[data-position='left'] {
    --hover-area-width: 48px;
  }
`,f=t=>{const n=l(27),{element:i,hoverAreaExtent:r,node:h,onAddUnion:p,position:f}=t,[v,g]=c(!1);let x;n[0]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{g(!0)},n[0]=x):x=n[0];const E=x;let w;n[1]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{g(!1)},n[1]=w):w=n[1];const y=w,_=d(null);let A;n[2]!==i?(A=t=>{if(t.target===_.current){const e=new MouseEvent(t.type,{...t.nativeEvent,bubbles:!0,cancelable:!0});i.dispatchEvent(e)}},n[2]=i,n[3]=A):A=n[3];const j=A,[M,k]=c(null),[S,U]=c(!1);let z;n[4]===Symbol.for("react.memo_cache_sentinel")?(z=()=>{U(!1),g(!1)},n[4]=z):z=n[4];const C=z;let D;n[5]!==p||n[6]!==f?(D=t=>{U(!1),p("top"===f||"left"===f?"before":"after",t.name)},n[5]=p,n[6]=f,n[7]=D):D=n[7];const P=D,Y="top"===f?"flex-start":"bottom"===f?"flex-end":"center",X="left"===f?"flex-start":"right"===f?"flex-end":"center",B="top"===f||"bottom"===f?"height":"width";let F,I,L,q;return n[8]!==B||n[9]!==r?(F={[B]:r},n[8]=B,n[9]=r,n[10]=F):F=n[10],n[11]!==S||n[12]!==v?(I=(v||S)&&a(m,{ref:k,icon:e,mode:"ghost",onClick:()=>U(b),radius:"full",selected:S}),n[11]=S,n[12]=v,n[13]=I):I=n[13],n[14]!==S||n[15]!==h||n[16]!==P||n[17]!==M?(L=S&&M&&a(o,{node:h,onDismiss:C,referenceElement:M,onSelect:P}),n[14]=S,n[15]=h,n[16]=P,n[17]=M,n[18]=L):L=n[18],n[19]!==Y||n[20]!==X||n[21]!==f||n[22]!==j||n[23]!==F||n[24]!==I||n[25]!==L?(q=s(u,{align:Y,"data-position":f,"data-sanity-overlay-element":!0,justify:X,onClick:j,onContextMenu:j,onMouseDown:j,onMouseEnter:E,onMouseLeave:y,onMouseUp:j,ref:_,style:F,children:[I,L]}),n[19]=Y,n[20]=X,n[21]=f,n[22]=j,n[23]=F,n[24]=I,n[25]=L,n[26]=q):q=n[26],q},v=e=>{const o=l(19),{direction:n,element:i,hoverAreaExtent:r,node:c,parent:d}=e,m=void 0===n?"vertical":n,{getDocument:u}=h();let v;o[0]!==u||o[1]!==c?(v=(t,e)=>{const o=u(c.id),n=p(c,e,t);o.patch(n)},o[0]=u,o[1]=c,o[2]=v):v=o[2];const b=v;if(!d)return null;const g="horizontal"===m?"row":"column",x="horizontal"===m?"left":"top";let E;o[3]!==i||o[4]!==r||o[5]!==b||o[6]!==d||o[7]!==x?(E=a(f,{element:i,hoverAreaExtent:r,node:d,onAddUnion:b,position:x}),o[3]=i,o[4]=r,o[5]=b,o[6]=d,o[7]=x,o[8]=E):E=o[8];const w="horizontal"===m?"right":"bottom";let y,_;return o[9]!==i||o[10]!==r||o[11]!==b||o[12]!==d||o[13]!==w?(y=a(f,{element:i,hoverAreaExtent:r,node:d,onAddUnion:b,position:w}),o[9]=i,o[10]=r,o[11]=b,o[12]=d,o[13]=w,o[14]=y):y=o[14],o[15]!==g||o[16]!==E||o[17]!==y?(_=s(t,{height:"fill",width:"fill",direction:g,justify:"space-between",children:[E,y]}),o[15]=g,o[16]=E,o[17]=y,o[18]=_):_=o[18],_};function b(t){return!t}function g(t,e){return{component:t,props:e}}function x(t){return t}export{r as PointerEvents,v as UnionInsertMenuOverlay,g as defineOverlayComponent,x as defineOverlayComponents};//# sourceMappingURL=index.js.map
