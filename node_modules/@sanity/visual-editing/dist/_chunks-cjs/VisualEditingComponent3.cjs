"use strict";var e=require("react-compiler-runtime"),t=require("@remix-run/react"),r=require("react"),a=require("./enableVisualEditing.cjs");exports.default=function(s){const u=e.c(20),{components:n,refresh:c,zIndex:i}=s,l=t.useNavigate(),o=r.useRef(l),[h,p]=r.useState(),f=t.useRevalidator(),[d,m]=r.useState(null),[v,y]=r.useState(!1);let E,b,q,x,g,S;u[0]!==l?(E=()=>{o.current=l},b=[l],u[0]=l,u[1]=E,u[2]=b):(E=u[1],b=u[2]),r.useEffect(E,b),u[3]!==f.state||u[4]!==v||u[5]!==d?(q=()=>{d&&"loading"===f.state?y(!0):d&&v&&"idle"===f.state&&(d(),m(null),y(!1))},x=[v,f.state,d],u[3]=f.state,u[4]=v,u[5]=d,u[6]=q,u[7]=x):(q=u[6],x=u[7]),r.useEffect(q,x),u[8]!==n||u[9]!==c||u[10]!==f||u[11]!==i?(g=()=>{const e=a.e({components:n,zIndex:i,refresh:e=>{const t=function(){return("mutation"!==e.source||!e.livePreviewEnabled)&&new Promise((e=>{f.revalidate(),m((()=>e))}))};return c?c(e,t):t()},history:{subscribe:e=>(p((()=>e)),()=>p(void 0)),update:e=>{"push"===e.type||"replace"===e.type?o.current(e.url,{replace:"replace"===e.type}):"pop"===e.type&&o.current(-1)}}});return()=>e()},S=[n,c,f,i],u[8]=n,u[9]=c,u[10]=f,u[11]=i,u[12]=g,u[13]=S):(g=u[12],S=u[13]),r.useEffect(g,S);const $=t.useLocation();let w,z;return u[14]!==$.hash||u[15]!==$.pathname||u[16]!==$.search||u[17]!==h?(w=()=>{h&&h({type:"push",url:`${$.pathname}${$.search}${$.hash}`})},z=[$.hash,$.pathname,$.search,h],u[14]=$.hash,u[15]=$.pathname,u[16]=$.search,u[17]=h,u[18]=w,u[19]=z):(w=u[18],z=u[19]),r.useEffect(w,z),null};//# sourceMappingURL=VisualEditingComponent3.cjs.map
