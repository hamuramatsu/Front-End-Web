import{c as e}from"react-compiler-runtime";import{useNavigate as t,useRevalidator as r,useLocation as a}from"@remix-run/react";import{useRef as n,useState as s,useEffect as o}from"react";import{e as p}from"./enableVisualEditing.js";function c(c){const u=e(20),{components:i,refresh:l,zIndex:h}=c,m=t(),d=n(m),[f,y]=s(),b=r(),[v,x]=s(null),[$,g]=s(!1);let w,z,E,I,P,j;u[0]!==m?(w=()=>{d.current=m},z=[m],u[0]=m,u[1]=w,u[2]=z):(w=u[1],z=u[2]),o(w,z),u[3]!==b.state||u[4]!==$||u[5]!==v?(E=()=>{v&&"loading"===b.state?g(!0):v&&$&&"idle"===b.state&&(v(),x(null),g(!1))},I=[$,b.state,v],u[3]=b.state,u[4]=$,u[5]=v,u[6]=E,u[7]=I):(E=u[6],I=u[7]),o(E,I),u[8]!==i||u[9]!==l||u[10]!==b||u[11]!==h?(P=()=>{const e=p({components:i,zIndex:h,refresh:e=>{const t=function(){return("mutation"!==e.source||!e.livePreviewEnabled)&&new Promise((e=>{b.revalidate(),x((()=>e))}))};return l?l(e,t):t()},history:{subscribe:e=>(y((()=>e)),()=>y(void 0)),update:e=>{"push"===e.type||"replace"===e.type?d.current(e.url,{replace:"replace"===e.type}):"pop"===e.type&&d.current(-1)}}});return()=>e()},j=[i,l,b,h],u[8]=i,u[9]=l,u[10]=b,u[11]=h,u[12]=P,u[13]=j):(P=u[12],j=u[13]),o(P,j);const V=a();let k,q;return u[14]!==V.hash||u[15]!==V.pathname||u[16]!==V.search||u[17]!==f?(k=()=>{f&&f({type:"push",url:`${V.pathname}${V.search}${V.hash}`})},q=[V.hash,V.pathname,V.search,f],u[14]=V.hash,u[15]=V.pathname,u[16]=V.search,u[17]=f,u[18]=k,u[19]=q):(k=u[18],q=u[19]),o(k,q),null}export{c as default};//# sourceMappingURL=VisualEditingComponent3.js.map
